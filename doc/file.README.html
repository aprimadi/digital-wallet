<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.20
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-Digital+Wallet">Digital Wallet</h1>

<p>Goal: Internal wallet transactional system (with a front end)</p>

<p>Requirements: - Based on relationships every entity e.g. User, Team, Stock
or any other should have their own defined “wallet” to which we could
transfer money or withdraw - Every request for credit/debit (deposit or
withdraw) should be based on records in database for given model - Every
instance of a single transaction should have proper validations against
required fields and their source and target wallet, e.g. from who we are
taking money and transferring to whom? (Credits == source wallet == nil,
Debits == target wallet == nil) - Each record should be created in database
transactions to comply with ACID standards - Balance for given entity
(User, Team, Stock) should be calculated by summing records</p>

<p>Tasks: 1. Architect generic wallet solution (money manipulation) between
entities (User, Stock, Team or any other) 2. Create model relationships and
validations for achieving proper calculations of every wallet, transactions
3. Use STI (or any other design pattern) for proper money manipulation</p>

<h2 id="label-Design+Decision">Design Decision</h2>
<ul><li>
<p>Each entity (User, Team, Stock) has one wallet</p>
</li><li>
<p>Each wallet belongs to an entity</p>
</li><li>
<p>Money is handled as an integer, the assumption is that we&#39;re creating
the  application for Indonesian market, in which, the smallest amount of
money is  Rp. 100. Even if the system is being used to handle USD or AUD,
it is  beneficial to store money as integer (in cents) rather than as
floating point  (decimal) because of the way computer stores floating point
number as an  approximation. I won&#39;t go into details about this but in
floating point number  representation (0 = 0) might not be true, but
instead you need to compare it  with range (0 &gt;= 0 - epsilon and 0 &lt;=
0 + epsilon) where epsilon is a small value for example 0.000001.</p>
</li></ul>

<h2 id="label-Generating+Documentation">Generating Documentation</h2>

<p>We use Yard to generate documentation, in the command line run (from the
root of the project):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_yard'>yard</span>
</code></pre>

<p>Documentation can be found in <code>doc/index.html</code></p>
</div></div>

      <div id="footer">
  Generated on Sat Aug  3 17:34:39 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>